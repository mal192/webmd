   //кот рекомендует создать файл в pom.xml с ним не пускается приложение
    <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>

// конфиг на постгресс в файле application.properties
spring.datasource.url=jdbc:postgresql://localhost/baza
spring.datasource.username=postgres
spring.datasource.password=123
spring.jpa.generate-dll=true  ///структуру базы обслуживает spring

<img src="{{jpg}}" id="image_1" width="800" height="600" style="position: absolute" />

<form action="/reg" method="get">
        <input type="submit" value="registr">
</form>


    @PostMapping("/reg")
    public  String addUser(User user, Map<String, Object> model){
    User userFromDb = userRep.findByUsername(user.getUsername());
        if (userFromDb!=null){
        model.put("message", "User Exists1");
        return  "reg";
    }
    user.setActive(true);
    user.setGroup(Collections.singleton(Role.USER)); //Лучше групп
    userRep.save(user);
    return "redirect:/login";

    }
